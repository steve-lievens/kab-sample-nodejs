<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="/css/carbon-components.min.css">
	<link rel="stylesheet" type="text/css" href="/css/widget.css">

	<script type="text/javascript" src="/js/carbon-components.min.js"></script>

	<script type="text/javascript" src="//code.jquery.com/jquery-2.2.4.min.js"></script>
	<title>Kubernetes deployment demo</title>

	<script type="text/javascript">
		$(document).ready(function() {
			console.log("Starting script ...");
			loadHostname();
		});

		function loadHostname() {
			// Load the spaces
			$.getJSON("/gethostinfo", function(resp) {
				console.log(resp);

				// Build the space list
				var hostname = resp.hostname;
				var region = resp.region;

				$('#hostname').append(hostname);
				$('#region').append(region);

				if (region == "FRA") {
					$('#region-box').addClass("region-fra");
				}
				if (region == "AMS") {
					$('#region-box').addClass("region-ams");
				}
			});
		};
	</script>

</head>

<body>
	<div class="bx--grid">
		<div class="bx--row">
			<div style="min-height:40px"></div>
		</div>
		<div class="bx--row">
			<div class="bx--col-sm-9">
				<div class="bx--tile">
					<div class="bx--row">
						<div class="bx--col-sm-3">
							<img class="img-responsive" src="images/newapp-icon.png">
						</div>
						<div class="bx--col-sm-9">
							<div class="bx--type-alpha">Kubernetes deployment demo</div>
							<div style="min-height:40px"></div>
							<div class="bx--type-epsilon">Powered by <a href="https://cloud.ibm.com" target="_blank">IBM Cloud Kubernetes Service</a> !</div>
							<div style="min-height:40px"></div>
							<div> Running on host :</div>
							<div style="min-height:20px"></div>
							<div id="hostname"></div>
						</div>
					</div>
				</div>
			</div>
			<div class="bx--col-sm-3">
				<div id="region-box" class="bx--tile">
					<div>Region</div>
					<div style="min-height:20px"></div>
					<div id="region"></div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>